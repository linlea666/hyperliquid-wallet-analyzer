# 宝塔 Python 项目配置详细说明

## 📋 根据您的截图填写配置

### ✅ 必填项配置

#### 1. 项目名称
```
gendan
```
或
```
hyperliquid-backend
```
（您已经填写了 `gendan`，可以保持）

---

#### 2. Python环境
```
hyperliquid
```
（您已经选择了，保持即可）

---

#### 3. 启动方式
```
命令行启动 ✅
```
（您已经选择了，保持即可）

---

#### 4. 项目路径 ⚠️ 重要！

**应该填写后端目录**：
```
/www/wwwroot/gendan/backend
```

**不是** `/www/wwwroot/gendan`（根目录）

**原因**：启动命令 `uvicorn app.main:app` 需要在 `backend` 目录下执行，因为 `app` 模块在 `backend` 目录中。

---

#### 5. 启动命令 ⚠️ 重要！

填写：
```
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

**说明**：
- `uvicorn`：ASGI 服务器
- `app.main:app`：应用入口（`app` 模块的 `main.py` 文件中的 `app` 对象）
- `--host 0.0.0.0`：允许外部访问
- `--port 8000`：端口号

---

#### 6. 环境变量
```
无 ✅
```
（您已经选择了，保持即可）

---

#### 7. 启动用户
```
www ✅
```
（您已经填写了，保持即可）

---

#### 8. 安装依赖包路径（可选）

如果依赖已经安装到虚拟环境，可以**不填**或填写：
```
/www/wwwroot/gendan/backend/requirements.txt
```

**说明**：宝塔面板会在创建项目时自动安装依赖，如果已经安装过，可以不填。

---

### ⚙️ 更多设置（点击展开）

#### 执行命令
填写：
```
uvicorn app.main:app --host 0.0.0.0 --port 8000
```
（和启动命令一样）

---

#### 通讯协议 ⚠️ 非常重要！

**必须选择**：
```
asgi ✅
```

**不是** `wsgi`！

**原因**：FastAPI 框架使用 ASGI（异步），不是 WSGI（同步）。

---

#### 端口
```
8000
```

---

#### 项目初始化命令（可选）

如果依赖已经安装，可以**不填**。

如果需要重新安装，填写：
```
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt
```

---

## 📋 完整配置清单

| 字段 | 填写内容 | 说明 |
|------|---------|------|
| **项目名称** | `gendan` 或 `hyperliquid-backend` | 已填写 ✅ |
| **Python环境** | `hyperliquid` | 已选择 ✅ |
| **启动方式** | `命令行启动` | 已选择 ✅ |
| **项目路径** | `/www/wwwroot/gendan/backend` | ⚠️ 需要修改 |
| **启动命令** | `uvicorn app.main:app --host 0.0.0.0 --port 8000` | ⚠️ 需要填写 |
| **环境变量** | `无` | 已选择 ✅ |
| **启动用户** | `www` | 已填写 ✅ |
| **安装依赖包** | 不填或 `/www/wwwroot/gendan/backend/requirements.txt` | 可选 |
| **执行命令** | `uvicorn app.main:app --host 0.0.0.0 --port 8000` | 更多设置中 |
| **通讯协议** | `asgi` | ⚠️ 必须选择 asgi |
| **端口** | `8000` | 更多设置中 |

---

## ⚠️ 重要提醒

### 1. 项目路径必须是 backend 目录

**错误**：`/www/wwwroot/gendan`  
**正确**：`/www/wwwroot/gendan/backend`

### 2. 通讯协议必须是 asgi

**错误**：`wsgi`  
**正确**：`asgi`

### 3. 启动命令格式

```
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

---

## ✅ 配置完成后

1. 点击「**确定**」创建项目
2. 等待项目创建完成
3. 点击「**启动**」按钮
4. 查看状态是否为「**运行中 ▶**」

---

## 🐛 如果启动失败

### 检查日志

1. 点击项目右侧「**日志**」按钮
2. 查看错误信息

### 常见问题

**问题1：找不到 app 模块**
- **原因**：项目路径不对
- **解决**：改为 `/www/wwwroot/gendan/backend`

**问题2：找不到 uvicorn**
- **原因**：依赖未安装
- **解决**：在「模块」中安装依赖，或填写「安装依赖包路径」

**问题3：端口被占用**
- **原因**：8000 端口已被使用
- **解决**：更换端口或停止占用端口的服务

---

## 🎯 快速配置步骤

1. **项目路径**：改为 `/www/wwwroot/gendan/backend`
2. **启动命令**：填写 `uvicorn app.main:app --host 0.0.0.0 --port 8000`
3. **更多设置** → **通讯协议**：选择 `asgi`
4. **更多设置** → **端口**：填写 `8000`
5. 点击「**确定**」

---

**按照以上配置填写即可！** 🚀

