# 📝 日常更新维护指南

## ✅ 当前配置状态

- ✅ GitHub 仓库：https://github.com/linlea666/hyperliquid-wallet-analyzer
- ✅ Git 用户信息已配置
- ✅ 凭证保存已配置
- ✅ Token 已保存（后续操作自动使用）

---

## 🔄 日常更新流程

### 方式一：在 Cursor 中更新（推荐）

#### 1. 修改代码
在 Cursor 中编辑文件

#### 2. 查看修改
- 点击左侧「Source Control」图标（或按 `Cmd+Shift+G`）
- 查看修改的文件（绿色 M 表示已修改）

#### 3. 提交代码
- 在「Message」输入框输入提交说明，例如：
  ```
  更新了钱包分析功能
  ```
- 点击「Commit」按钮（或按 `Cmd+Enter`）

#### 4. 推送到 GitHub
- 点击「Sync Changes」按钮（自动 pull + push）
- 或点击「...」→「Push」

**就这么简单！** ✅

---

### 方式二：在终端中更新

```bash
cd /Users/huahua/Documents/gendan

# 1. 查看修改
git status

# 2. 添加修改
git add .

# 3. 提交
git commit -m "更新说明"

# 4. 推送到 GitHub
git push origin main
```

---

## 📋 常用操作

### 查看提交历史

```bash
git log --oneline -10
```

### 查看文件修改

```bash
git diff
```

### 撤销修改

```bash
# 撤销未提交的修改
git checkout -- 文件名

# 撤销所有未提交的修改
git checkout -- .
```

### 拉取最新代码

```bash
git pull origin main
```

---

## 🖥️ 服务器更新流程

### 在服务器上更新代码

```bash
cd /www/wwwroot/gendan

# 拉取最新代码
git pull origin main

# 如果有前端修改，需要重新构建
cd frontend
npm install
npm run build

# 重启后端服务（如果使用 PM2）
pm2 restart gendan-backend
```

或使用更新脚本：

```bash
cd /www/wwwroot/gendan
./update.sh
```

---

## 🔐 Token 安全提醒

**⚠️ 重要**：
- Token 已保存在本地，后续操作会自动使用
- **不要**将 Token 提交到代码仓库
- Token 已添加到 `.gitignore`，不会被上传
- 如果 Token 泄露，立即到 GitHub 撤销并重新生成

### 查看保存的凭证

```bash
cat ~/.git-credentials
```

### 撤销 Token（如果需要）

1. 访问：https://github.com/settings/tokens
2. 找到对应的 Token
3. 点击「Revoke」撤销

---

## 📝 提交信息规范

建议使用清晰的提交信息：

```
功能更新：添加了钱包分析功能
修复问题：修复了数据计算错误
文档更新：更新了部署文档
代码优化：优化了 API 调用逻辑
```

---

## ✅ 验证更新

### 本地验证

```bash
git status
git log --oneline -5
```

### GitHub 验证

访问：https://github.com/linlea666/hyperliquid-wallet-analyzer

查看最新的提交记录。

---

## 🎯 完整工作流程

```
1. 在 Cursor 中修改代码
   ↓
2. 点击「Source Control」查看修改
   ↓
3. 输入提交说明
   ↓
4. 点击「Commit」
   ↓
5. 点击「Sync Changes」（推送到 GitHub）
   ↓
6. 服务器运行 ./update.sh（更新服务器代码）
```

---

## 💡 提示

1. **Cursor 自动检测 Git**：打开项目后自动启用
2. **Sync Changes 最方便**：一键同步到 GitHub
3. **Token 已保存**：后续操作不需要再输入
4. **定期提交**：建议每次完成一个功能就提交一次

---

**现在可以开始正常开发了！** 🚀

