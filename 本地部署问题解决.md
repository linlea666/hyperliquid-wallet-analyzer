# æœ¬åœ°éƒ¨ç½²é—®é¢˜è§£å†³

## ðŸ”§ å½“å‰é—®é¢˜ï¼šä¾èµ–å®‰è£…å¤±è´¥

### é—®é¢˜åŽŸå› 
- ç³»ç»Ÿé…ç½®äº†ä»£ç†ï¼ˆ127.0.0.1:7890ï¼‰ï¼Œä½†ä»£ç†æœåŠ¡å™¨æœªè¿è¡Œ
- pip å’Œ npm æ— æ³•è¿žæŽ¥åˆ°æœåŠ¡å™¨

### è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆä¸€ï¼šç¦ç”¨ä»£ç†ï¼ˆæŽ¨èï¼‰

```bash
# ä¸´æ—¶ç¦ç”¨ä»£ç†
unset http_proxy
unset https_proxy
unset HTTP_PROXY
unset HTTPS_PROXY

# ç„¶åŽé‡æ–°è¿è¡Œå¯åŠ¨è„šæœ¬
cd /Users/huahua/Documents/gendan
./start.sh
```

#### æ–¹æ¡ˆäºŒï¼šä½¿ç”¨å›½å†…é•œåƒæº

**ä¿®æ”¹å¯åŠ¨è„šæœ¬ä½¿ç”¨å›½å†…é•œåƒ**ï¼š

ç¼–è¾‘ `start.sh`ï¼Œåœ¨ pip install å’Œ npm install å‰æ·»åŠ é•œåƒé…ç½®ï¼š

```bash
# åœ¨ pip install å‰æ·»åŠ 
export PIP_INDEX_URL=https://pypi.tuna.tsinghua.edu.cn/simple

# åœ¨ npm install å‰æ·»åŠ 
npm config set registry https://registry.npmmirror.com
```

#### æ–¹æ¡ˆä¸‰ï¼šé…ç½®æ­£ç¡®çš„ä»£ç†

å¦‚æžœæ‚¨çš„ä»£ç†æœåŠ¡å™¨åœ¨è¿è¡Œï¼Œç¡®ä¿ä»£ç†åœ°å€æ­£ç¡®ï¼š

```bash
# æ£€æŸ¥ä»£ç†æ˜¯å¦å¯ç”¨
curl -x http://127.0.0.1:7890 https://www.google.com

# å¦‚æžœä»£ç†å¯ç”¨ï¼Œä¿æŒä»£ç†è®¾ç½®
# å¦‚æžœä¸å¯ç”¨ï¼Œç¦ç”¨ä»£ç†ï¼ˆæ–¹æ¡ˆä¸€ï¼‰
```

---

## ðŸš€ å¿«é€Ÿä¿®å¤è„šæœ¬

åˆ›å»º `fix-proxy.sh`ï¼š

```bash
#!/bin/bash

# ç¦ç”¨ä»£ç†
unset http_proxy
unset https_proxy
unset HTTP_PROXY
unset HTTPS_PROXY

# è®¾ç½® npm é•œåƒ
npm config set registry https://registry.npmmirror.com
npm config delete proxy
npm config delete https-proxy

# è®¾ç½® pip é•œåƒï¼ˆåœ¨è™šæ‹ŸçŽ¯å¢ƒä¸­ï¼‰
cd backend
if [ ! -d "venv" ]; then
    python3 -m venv venv
fi
source venv/bin/activate

# åˆ›å»º pip é…ç½®æ–‡ä»¶
mkdir -p ~/.pip
cat > ~/.pip/pip.conf << EOF
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
trusted-host = pypi.tuna.tsinghua.edu.cn
EOF

echo "âœ… ä»£ç†å·²ç¦ç”¨ï¼Œé•œåƒå·²é…ç½®"
echo "çŽ°åœ¨å¯ä»¥è¿è¡Œ: ./start.sh"
```

è¿è¡Œï¼š
```bash
chmod +x fix-proxy.sh
./fix-proxy.sh
./start.sh
```

---

## ðŸ“‹ æ‰‹åŠ¨å®‰è£…æ­¥éª¤ï¼ˆå¦‚æžœè„šæœ¬å¤±è´¥ï¼‰

### 1. åŽç«¯æ‰‹åŠ¨å®‰è£…

```bash
cd backend

# åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# ç¦ç”¨ä»£ç†
unset http_proxy https_proxy HTTP_PROXY HTTPS_PROXY

# ä½¿ç”¨å›½å†…é•œåƒå®‰è£…
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt

# å¯åŠ¨åŽç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### 2. å‰ç«¯æ‰‹åŠ¨å®‰è£…

```bash
cd frontend

# ç¦ç”¨ä»£ç†
unset http_proxy https_proxy HTTP_PROXY HTTPS_PROXY

# è®¾ç½® npm é•œåƒ
npm config set registry https://registry.npmmirror.com
npm config delete proxy
npm config delete https-proxy

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
npm run dev
```

---

## âœ… éªŒè¯å®‰è£…

### æ£€æŸ¥åŽç«¯

```bash
# è®¿é—® API æ–‡æ¡£
open http://localhost:8000/docs

# æˆ–ä½¿ç”¨ curl
curl http://localhost:8000/health
```

### æ£€æŸ¥å‰ç«¯

```bash
# è®¿é—®å‰ç«¯
open http://localhost:5173
```

---

## ðŸŽ¯ æŽ¨èæ–¹æ¡ˆ

**å¯¹äºŽæœ¬åœ°å¼€å‘ï¼ŒæŽ¨èä½¿ç”¨æ–¹æ¡ˆä¸€ï¼ˆç¦ç”¨ä»£ç†ï¼‰**ï¼š

1. ç¦ç”¨ä»£ç†çŽ¯å¢ƒå˜é‡
2. ä½¿ç”¨å›½å†…é•œåƒæºåŠ é€Ÿ
3. é‡æ–°è¿è¡Œå¯åŠ¨è„šæœ¬

è¿™æ ·å¯ä»¥é¿å…ä»£ç†é—®é¢˜ï¼ŒåŒæ—¶äº«å—å›½å†…é•œåƒçš„åŠ é€Ÿã€‚

