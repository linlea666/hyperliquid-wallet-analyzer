# HyperLiquid 钱包分析系统 - 使用说明

## 🚀 快速开始

### 前置要求

- **macOS** 系统
- **Python 3.10+** （检查：`python3 --version`）
- **Node.js 18+** （检查：`node --version`）

### 一键启动

1. **打开终端**，进入项目目录：
```bash
cd /Users/huahua/Documents/gendan
```

2. **启动系统**：
```bash
./start.sh
```

3. **访问系统**：
   - 前端界面：http://localhost:5173
   - 后端 API：http://localhost:8000
   - API 文档：http://localhost:8000/docs

### 一键停止

```bash
./stop.sh
```

---

## 📋 功能使用

### 1. 导入钱包

1. 点击导航栏的 **"钱包列表"**
2. 点击 **"导入钱包"** 按钮
3. 输入钱包地址（每行一个，支持批量导入）
4. 点击 **"导入"** 按钮

**注意**：当前版本使用 Mock 数据，实际 API 集成需要替换 `backend/app/services/hyperliquid.py` 中的 API 调用。

### 2. 查看钱包详情

1. 在钱包列表中点击 **"查看详情"**
2. 查看钱包的各项指标：
   - 总盈亏
   - ROI
   - 胜率
   - Smart Money Score
   - 交易历史

### 3. 查看看板

1. 点击导航栏的 **"看板"**
2. 查看整体统计：
   - 钱包总数
   - 总资产
   - 总盈亏
   - 平均 ROI
   - 多空比统计
   - 钱包异动

### 4. 查看通知

1. 点击导航栏的 **"通知"**
2. 查看所有通知记录
3. 可以标记已读或删除通知

---

## 🔧 配置说明

### 后端配置

配置文件位置：`backend/data/config/`

- **system.json** - 系统配置（API 地址、更新频率等）
- **scoring.json** - 评分权重配置
- **recommendation.json** - 推荐算法配置
- **filters.json** - 筛选条件配置
- **notifications.json** - 通知配置

### 修改配置

配置文件会在首次启动时自动创建，可以直接编辑 JSON 文件修改配置。

---

## 📁 项目结构

```
gendan/
├── backend/              # 后端代码
│   ├── app/             # 应用代码
│   │   ├── api/         # API 路由
│   │   ├── services/    # 服务层
│   │   ├── models/      # 数据模型
│   │   └── utils/       # 工具函数
│   ├── data/            # 数据目录
│   │   ├── wallets/     # 钱包数据
│   │   └── config/      # 配置文件
│   └── logs/            # 日志目录
├── frontend/            # 前端代码
│   ├── src/
│   │   ├── views/       # 页面组件
│   │   ├── components/  # 通用组件
│   │   └── api/         # API 调用
│   └── public/          # 静态资源
├── start.sh             # 启动脚本
├── stop.sh              # 停止脚本
└── logs/                # 日志文件
```

---

## 🐛 常见问题

### 1. 端口被占用

如果 8000 或 5173 端口被占用，可以：

**后端端口**：修改 `backend/app/main.py` 中的端口号
**前端端口**：修改 `frontend/vite.config.js` 中的端口号

### 2. Python 依赖安装失败

```bash
cd backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 3. Node.js 依赖安装失败

```bash
cd frontend
npm install
```

### 4. 查看日志

- 后端日志：`logs/backend.log`
- 前端日志：`logs/frontend.log`
- 应用日志：`backend/logs/app.log`
- 错误日志：`backend/logs/error.log`

---

## 🔌 API 集成

### 替换 Mock 数据

当前系统使用 Mock 数据，要集成真实的 HyperLiquid API：

1. 编辑 `backend/app/services/hyperliquid.py`
2. 实现 `get_wallet_data()` 方法中的真实 API 调用
3. 根据 HyperLiquid API 文档调整数据解析逻辑

### API 端点

- `GET /api/wallets` - 获取钱包列表
- `GET /api/wallets/{address}` - 获取钱包详情
- `POST /api/wallets/import` - 导入钱包
- `POST /api/wallets/{address}/refresh` - 刷新钱包数据
- `GET /api/dashboard/stats` - 获取看板统计
- `GET /api/dashboard/long-short-ratio` - 获取多空比
- `GET /api/dashboard/anomalies` - 获取异动数据
- `GET /api/notifications` - 获取通知列表

完整 API 文档：http://localhost:8000/docs

---

## 📝 开发说明

### 后端开发

```bash
cd backend
source venv/bin/activate
python3 -m uvicorn app.main:app --reload
```

### 前端开发

```bash
cd frontend
npm run dev
```

### 构建生产版本

```bash
cd frontend
npm run build
```

构建后的文件在 `frontend/dist/` 目录。

---

## ⚠️ 注意事项

1. **Mock 数据**：当前版本使用 Mock 数据，需要替换为真实 API
2. **数据存储**：数据存储在 `backend/data/` 目录，建议定期备份
3. **配置修改**：修改配置后需要重启服务才能生效
4. **日志文件**：日志文件会自动轮转，保留最近 30 天

---

## 🆘 获取帮助

如有问题，请查看：
- 项目文档：`README.md`
- 需求规划：`需求规划文档.md`
- API 文档：http://localhost:8000/docs

---

**祝使用愉快！** 🎉

